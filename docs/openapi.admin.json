{"openapi":"3.0.0","paths":{"/admin/admins":{"get":{"operationId":"AdminsController_getAdminUsers","summary":"Retrieve all Admin Users that matches Query","parameters":[{"name":"searchQuery","required":false,"in":"query","schema":{"type":"string"}},{"name":"role","required":false,"in":"query","schema":{"type":"array","items":{"$ref":"#/components/schemas/AdminRole"}}},{"name":"status","required":false,"in":"query","schema":{"type":"array","items":{"$ref":"#/components/schemas/AdminStatus"}}},{"name":"initialPassword","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"emailVerified","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAdminsResponseDto"}}}}},"tags":["admin"]},"post":{"operationId":"AdminsController_createAdmin","summary":"Create new admin user as a head admin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]}},"/admin/admins/{id}":{"get":{"operationId":"AdminsController_getAdmin","summary":"Show information of single admin","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminResponseDto"}}}}},"tags":["admin"]},"patch":{"operationId":"AdminsController_updateAdmin","summary":"Update admin user fields or suspend user","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdminDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]},"delete":{"operationId":"AdminsController_deleteAdmin","summary":"Delete admin, set status to deleted ","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]}},"/admin/admins/{id}/status-suspended":{"patch":{"operationId":"AdminsController_suspendAdmin","summary":"Suspend admin, set status to suspended","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]}},"/admin/admins/{id}/status-active":{"patch":{"operationId":"AdminsController_reactivateAdmin","summary":"Reactivate admin, set status to active","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]}},"/admin/admins/{id}/email":{"post":{"operationId":"AdminsController_resendEmailVerification","summary":"Re-Send email for email verification","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]}},"/admin/admins/{id}/password":{"post":{"operationId":"AdminsController_resetPassword","summary":"Reset password and send to email, set inital password to true","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["admin"]}},"/admin/auth/email":{"get":{"operationId":"AuthController_verifyEmail","summary":"Verify user email with JWT Token","parameters":[{"name":"jwtToken","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"401":{"description":"Unauthorized - Expired or invalid token"},"500":{"description":"Internal Server Error"}},"tags":["auth"]}},"/admin/auth":{"post":{"operationId":"AuthController_signIn","summary":"Sign in admin end point","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"401":{"description":"Unauthorized"}},"tags":["auth"]},"delete":{"operationId":"AuthController_logout","summary":"Logout user and delete refresh and access token","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["auth"]}},"/admin/auth/password":{"post":{"operationId":"AuthController_passwordReset","summary":"Change logged admin password, no old password needed for the initial ","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["auth"]}},"/admin/auth/who-am-i":{"get":{"operationId":"AuthController_whoAmI","summary":"Get information about logged user","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WhoAmIDto"}}}}},"tags":["auth"]}},"/admin/auth/token":{"post":{"operationId":"AuthController_refreshAccesToken","summary":"Refresh Access Token","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["auth"]}},"/admin/companies":{"get":{"operationId":"CompaniesController_getCompanies","summary":"List all companies and filter with query","parameters":[{"name":"searchQuery","required":false,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCompaniesResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{id}":{"get":{"operationId":"CompaniesController_getCompany","summary":"Show data of single company","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleCompanyResponseDto"}}}}},"tags":["companies"]},"patch":{"operationId":"CompaniesController_updateCompany","summary":"Update single company data","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]},"delete":{"operationId":"CompaniesController_deleteCompany","summary":"Delete company, change status to deleted","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{id}/status-suspended":{"patch":{"operationId":"CompaniesController_suspendCompany","summary":"Suspend user by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{id}/status-active":{"patch":{"operationId":"CompaniesController_reactivateCompany","summary":"Suspend user by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{id}/users":{"get":{"operationId":"CompaniesController_getCompaniesUsers","summary":"List all users that belong to this company","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"searchQuery","required":false,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"type":"array","items":{"$ref":"#/components/schemas/UserStatus"}}},{"name":"role","required":false,"in":"query","schema":{"type":"array","items":{"$ref":"#/components/schemas/UserRole"}}},{"name":"initialPassword","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"emailVerified","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCompaniesUsersResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{companyId}/users/{id}":{"get":{"operationId":"CompaniesController_getCompaniesUser","summary":"Show user data including company information","parameters":[{"name":"companyId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCompaniesUserResponseDto"}}}}},"tags":["companies"]},"patch":{"operationId":"CompaniesController_updateUser","summary":"Update user fields","parameters":[{"name":"companyId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]},"delete":{"operationId":"CompaniesController_deleteUser","summary":"Delete user (change UserStatus to deleted)","parameters":[{"name":"companyId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{companyId}/users/{id}/status-suspended":{"patch":{"operationId":"CompaniesController_suspendUser","summary":"Suspend user (change UserStatus to suspended)","parameters":[{"name":"companyId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{companyId}/users/{id}/status-active":{"patch":{"operationId":"CompaniesController_reactivateUser","summary":"Reactivate user (change UserStatus to active)","parameters":[{"name":"companyId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/admin/companies/{companyId}/users/{id}/password":{"post":{"operationId":"CompaniesController_resetPasswordUser","summary":"Reset client password","parameters":[{"name":"companyId","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["companies"]}},"/common/states":{"get":{"operationId":"CommonController_getStates","summary":"Get States Abbreviation","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatesResponseDto"}}}}},"tags":["common"]}},"/common/phone-numbers":{"get":{"operationId":"CommonController_getPhoneNumbers","summary":"Get phone numbers and flags","parameters":[{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneNumbersResponseDto"}}}}},"tags":["common"]}},"/common/aws/dynamo-health":{"get":{"operationId":"AwsController_dynamoHealth","summary":"Health check for DynamoDB connectivity","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DynamoHealthResponse"}}}}},"tags":["common"]}},"/admin/properties/listings/stats/summary":{"post":{"operationId":"PropertiesController_listingStats","summary":"Listing statistics summary (counts by status/state)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingStatsDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingStatsResponseDto"}}}}},"tags":["properties"]}},"/admin/properties/listings/stats/state-breakdown":{"post":{"operationId":"PropertiesController_listingStateBreakdown","summary":"Listing state/status breakdown with pagination","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingStateBreakdownDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingStateBreakdownResponseDto"}}}}},"tags":["properties"]}},"/admin/properties/listings/search":{"post":{"operationId":"PropertiesController_searchListings","summary":"Search property listings with rich filters","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyListingsSearchDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyListingsSearchResponseDto"}}}}},"tags":["properties"]}},"/admin/properties/listings/export/csv":{"post":{"operationId":"PropertiesController_exportListingsCsvOptimized","summary":"Export property listings as CSV (optimized)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyListingsExportDto"}}}},"responses":{"200":{"description":"CSV file download","content":{"application/json":{"schema":{"type":"string","format":"binary"}}}}},"tags":["properties"]}},"/admin/scraper/health":{"get":{"operationId":"ScraperController_health","summary":"Health check","description":"Verify connectivity to DynamoDB scraper tables.\n\n**Use this to:**\n- Check if DynamoDB is reachable\n- Verify table permissions are correct\n- Debug connection issues\n\n**Returns:** Connection status and latency for each table.","parameters":[],"responses":{"200":{"description":"Health status of scraper dependencies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeRunsHealthDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/dashboard":{"get":{"operationId":"ScraperController_dashboard","summary":"Get dashboard totals","description":"Fetch aggregated pipeline statistics for the dashboard cards.\n\n**Pipeline Metrics Returned:**\n| Metric | Description |\n|--------|-------------|\n| `completedScrapingJobs` | Jobs that finished scraping successfully |\n| `remainingScrapingJobs` | Jobs pending or in progress |\n| `enrichedCompleted/Remaining` | Properties enriched vs pending |\n| `mosaicCompleted/Remaining` | Properties with image analysis |\n| `filteredCompleted/Remaining` | Properties qualified vs pending |\n| `importCompleted/Remaining` | Records imported to PostgreSQL |\n\n**Date Range:**\n- If no dates provided, returns totals for today\n- Supports date range for historical analysis\n","parameters":[{"name":"runDateFrom","required":false,"in":"query","description":"Run date from (YYYY-MM-DD). Defaults to today when omitted.","schema":{"type":"string"}},{"name":"runDateTo","required":false,"in":"query","description":"Run date to (YYYY-MM-DD). Defaults to today when omitted.","schema":{"type":"string"}}],"responses":{"200":{"description":"Aggregated totals for all pipeline stages","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeRunsTotalsResponseDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/runs":{"get":{"operationId":"ScraperController_listRuns","summary":"List scrape runs by state","description":"Get per-state breakdown of pipeline progress.\n\n**Each state shows:**\n- Scraping progress (completed/remaining jobs)\n- Import progress (DynamoDB â†’ PostgreSQL)\n- Enrichment progress\n- Mosaic (image analysis) progress\n- Filtering progress\n\n**Status Values:**\n- `NOT_SCHEDULED`: No jobs created for this stage\n- `NOT_STARTED`: Jobs exist but none completed\n- `RUNNING`: Some jobs completed, some remaining\n- `COMPLETED`: All jobs finished\n\n**Pagination:**\n- Returns all 50 US states plus territories\n- Use `limit` and `offset` for pagination\n","parameters":[{"name":"runDate","required":false,"in":"query","description":"Run date (YYYY-MM-DD). Defaults to today when omitted.","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Limit (max 100)","schema":{"type":"number"}},{"name":"offset","required":false,"in":"query","description":"Offset for pagination","schema":{"type":"number"}}],"responses":{"200":{"description":"Paginated list of per-state pipeline statistics","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeRunsResponseDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/runs-fetch":{"post":{"operationId":"ScraperController_refreshRunsSummary","summary":"Refresh run summaries","description":"Rebuild per-state run summaries and totals for a given run date.\n\n**Use this to:**\n- Recompute dashboard totals after backfills\n- Fix stale or inconsistent state summaries\n- Force refresh after manual job updates\n\n**Optional input:**\n- `runDate` (YYYY-MM-DD). Defaults to today if omitted.\n","parameters":[],"requestBody":{"required":false,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeRunsRefreshDto"}}}},"responses":{"200":{"description":"Recalculated pipeline totals for the selected run date","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeRunsTotalsResponseDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/jobs":{"get":{"operationId":"ScraperController_listJobs","summary":"List scrape jobs","description":"Browse individual scraping jobs with detailed status.\n\n**Job Structure:**\nEach state is split into segments (e.g., CA has 50+ segments for different Zillow search areas).\nEach segment becomes a job with:\n- `jobId`: Unique identifier\n- `state`: US state abbreviation\n- `segmentIndex`: Segment number within state (1, 2, 3...)\n- `status`: PENDING, RUNNING, SUCCESS, FAILED, RETRYING\n- `resultCount`: Total properties found\n- `newCount`: New properties (not seen before)\n- `changedCount`: Properties with updated data\n\n**Filtering:**\n- `statuses`: Filter by job status\n- `states`: Filter by US states\n- `createdFrom/To`: Date range filter\n- `resultCountMin/Max`: Filter by result count\n","parameters":[{"name":"statuses","required":false,"in":"query","description":"Filter by statuses","schema":{"type":"array","items":{"$ref":"#/components/schemas/ScrapeJobStatus"}}},{"name":"createdFrom","required":false,"in":"query","description":"createdAt from (inclusive)","schema":{"type":"string"}},{"name":"createdTo","required":false,"in":"query","description":"createdAt to (inclusive)","schema":{"type":"string"}},{"name":"searchQuery","required":false,"in":"query","description":"Search by stateSegmentRunKey","schema":{"type":"string"}},{"name":"states","required":false,"in":"query","description":"Filter by states (abbreviation)","schema":{"type":"array","items":{"$ref":"#/components/schemas/StatesAbbreviation"}}},{"name":"resultCountMin","required":false,"in":"query","description":"Filter by resultCount min","schema":{"type":"number"}},{"name":"resultCountMax","required":false,"in":"query","description":"Filter by resultCount max","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Limit","schema":{"minimum":1,"maximum":200,"default":50,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"Offset","schema":{"minimum":0,"default":0,"type":"number"}}],"responses":{"200":{"description":"Paginated list of scraping jobs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeJobsListResponseDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/schedule":{"post":{"operationId":"ScraperController_scheduleStateConfigJobs","summary":"Schedule scraping jobs","description":"Create new scraping jobs for selected states.\n\n**How Scheduling Works:**\n1. Reads state configurations from DynamoDB (zillow_link, segments)\n2. Creates one job per segment for each state\n3. Jobs start with status `PENDING`\n4. Worker processes pick up and execute jobs\n\n**Segment Example:**\nCalifornia might have 50 segments (different Zillow search URLs).\nCalling this endpoint for CA creates 50 jobs:\n- CA#1, CA#2, ..., CA#50\n\n**Request Options:**\n- `states`: Array of state abbreviations (empty = all states)\n- `runDate`: Target date (default: today)\n\n**Response:**\nReturns count of jobs created per state.\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeScheduleStateConfigDto"}}}},"responses":{"200":{"description":"Summary of jobs created per state","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeScheduleStateConfigResponseDto"}}}},"400":{"description":"Invalid state abbreviation or date format"}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/cookies":{"get":{"operationId":"ScraperController_listCookies","summary":"List Zillow cookies","description":"Manage authentication cookies for Zillow scraping.\n\n**Why Cookies Matter:**\nZillow requires authenticated sessions for scraping. Cookies are rotated\nto avoid rate limiting and detection.\n\n**Cookie Properties:**\n- `cookieId`: Unique identifier\n- `cookie`: The actual cookie string\n- `isActive`: Whether this cookie is in rotation\n- `lastUsedAt`: When it was last used for scraping\n- `failCount`: Number of failed requests\n\n**Pagination:**\nUse `limit` and `offset` for large cookie pools.\n","parameters":[{"name":"limit","required":false,"in":"query","description":"Limit","schema":{"minimum":1,"maximum":200,"default":50,"type":"number"}},{"name":"offset","required":false,"in":"query","description":"Offset","schema":{"minimum":0,"default":0,"type":"number"}}],"responses":{"200":{"description":"Paginated list of Zillow cookies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ZillowCookiesListResponseDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]},"post":{"operationId":"ScraperController_createCookies","summary":"Add new Zillow cookies","description":"Import new authentication cookies for scraping.\n\n**Cookie Format:**\nProvide raw cookie strings extracted from browser developer tools.\n\n**Process:**\n1. Extract cookies from authenticated Zillow session\n2. Submit via this endpoint\n3. Cookies are validated and added to rotation pool\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ZillowCookiesCreateDto"}}}},"responses":{"200":{"description":"Summary of created cookies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ZillowCookiesCreateResponseDto"}}}},"400":{"description":"Invalid cookie format"}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/scraper/cookies/active":{"patch":{"operationId":"ScraperController_setCookiesActive","summary":"Bulk toggle cookies active state","description":"Enable or disable multiple cookies at once.\n\n**Use Cases:**\n- Disable all cookies from a specific source\n- Re-enable a batch of cookies after cooldown\n- Emergency: disable all cookies if Zillow is blocking\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ZillowCookiesBulkSetActiveDto"}}}},"responses":{"200":{"description":"Summary of updated cookies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ZillowCookiesBulkActionResponseDto"}}}}},"tags":["scraper"],"security":[{"bearer":[]}]}},"/admin/templates":{"get":{"operationId":"TemplatesController_getTemplates","summary":"List all templates","description":"Fetch available CRM templates with pagination and filtering.\n\n**Use this to:**\n- Display template catalog for admins to manage\n- Show template selection UI for new companies\n- Search templates by name or description\n\n**Includes counts for:**\n- `modulesCount`: Number of modules in each template\n- `companiesCount`: Companies currently using the template\n","parameters":[{"name":"limit","required":true,"in":"query","description":"Maximum number of templates to return per page.\n\n**Recommended values:**\n- `10` for dropdown/select components\n- `20-25` for table views\n- `50` for bulk operations","schema":{"minimum":1,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"offset","required":true,"in":"query","description":"Number of templates to skip before returning results.\n\n**Pagination formula:**\n- Page 1: offset = 0\n- Page 2: offset = limit\n- Page N: offset = (N - 1) * limit\n\n**Example:** To get page 3 with 10 items per page: `offset=20, limit=10`","schema":{"minimum":0,"default":0,"example":0,"type":"number"}},{"name":"searchQuery","required":false,"in":"query","description":"Search term to filter templates by name, slug, or description.\n\nSearch is case-insensitive and matches partial text.\n\n**Examples:**\n- `\"movers\"` matches \"Movers CRM\", \"movers_pro\"\n- `\"real\"` matches \"Realtors CRM\", \"Real Estate Pro\"","schema":{"example":"movers","type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status.\n\n- `true`: Only show active templates (available for installation)\n- `false`: Only show inactive templates (drafts or deprecated)\n- Omit: Show all templates regardless of status","schema":{"example":true,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateListResponseDto"}}}},"401":{"description":"Missing or invalid admin JWT token"}},"tags":["templates"],"security":[{"bearer":[]}]},"post":{"operationId":"TemplatesController_createTemplate","summary":"Create a new template","description":"Create a new industry CRM template.\n\n**Use this to:**\n- Start building a new CRM configuration for an industry\n- Clone and customize an existing template concept\n\n**After creation:**\n1. Add modules using `POST /admin/templates/modules`\n2. Add blueprint objects to each module\n3. Add blueprint fields to each object\n4. Add associations between objects\n5. Set `isActive: true` when ready for companies to install\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTemplateDto"}}}},"responses":{"201":{"description":"Template created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid","example":"123e4567-e89b-12d3-a456-426614174000","description":"The ID of the newly created template"}}}}}},"400":{"description":"Validation error - invalid slug format or missing required fields"},"409":{"description":"Template with this slug already exists"}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/{id}":{"get":{"operationId":"TemplatesController_getTemplate","summary":"Get template by ID","description":"Fetch a single template's details by its UUID.\n\n**Use this to:**\n- Load template data for editing\n- Display template details page\n- Verify template exists before operations\n","parameters":[{"name":"id","required":true,"in":"path","description":"Template UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateResponseDto"}}}},"404":{"description":"Template not found"}},"tags":["templates"],"security":[{"bearer":[]}]},"patch":{"operationId":"TemplatesController_updateTemplate","summary":"Update a template","description":"Modify template metadata (name, description, icon, status).\n\n**Use this to:**\n- Rename or update template description\n- Activate/deactivate template availability\n- Change display order in template catalog\n\n**Cannot change:** The `slug` is immutable after creation.\n\n**Warning:** Deactivating a template does NOT affect companies that already installed it.\n","parameters":[{"name":"id","required":true,"in":"path","description":"Template UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTemplateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Template not found"}},"tags":["templates"],"security":[{"bearer":[]}]},"delete":{"operationId":"TemplatesController_deleteTemplate","summary":"Delete a template","description":"Permanently remove a template and all its modules/blueprints.\n\n**Use this to:**\n- Remove draft templates that won't be used\n- Clean up test templates\n\n**Restrictions:**\n- Cannot delete if any company has installed this template\n- Deletion is permanent and cannot be undone\n\n**Cascade deletes:**\n- All modules in the template\n- All blueprint objects, fields, associations\n","parameters":[{"name":"id","required":true,"in":"path","description":"Template UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"400":{"description":"Cannot delete template while companies are using it"},"404":{"description":"Template not found"}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/slug/{slug}":{"get":{"operationId":"TemplatesController_getTemplateBySlug","summary":"Get template by slug","description":"Fetch a template using its URL-friendly slug identifier.\n\n**Use this to:**\n- Look up template by human-readable identifier\n- Deep-link to template (e.g., `/templates/movers_crm`)\n- API integrations that prefer slugs over UUIDs\n","parameters":[{"name":"slug","required":true,"in":"path","description":"Template slug (e.g., \"movers_crm\")","schema":{"example":"movers_crm","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateResponseDto"}}}},"404":{"description":"Template not found"}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/slug/{slug}/available":{"get":{"operationId":"TemplatesController_checkSlugAvailable","summary":"Check if slug is available","description":"Validate that a slug can be used for a new template.\n\n**Use this to:**\n- Real-time validation in template creation form\n- Prevent duplicate slug conflicts before submission\n\n**Note:** Slugs are globally unique and cannot be reused even after deletion.\n","parameters":[{"name":"slug","required":true,"in":"path","description":"Slug to check","schema":{"example":"my_new_template","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"available":{"type":"boolean","example":true}}}}}}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/install":{"post":{"operationId":"TemplatesController_installTemplate","summary":"Install template for a company","description":"Deploy a template to a company, creating real CRM entities.\n\n**What happens:**\n1. Validates company doesn't already have a template\n2. For each selected module:\n   - Creates CRM object types from blueprint objects\n   - Creates fields from blueprint fields\n   - Creates associations from blueprint associations\n3. Marks entities with `templateOriginId` for tracking\n4. Applies protection levels to prevent accidental deletion\n\n**Use this when:**\n- Onboarding a new company\n- Company upgrades to a templated CRM\n\n**Module selection:**\n- Pass `modules: [\"core\", \"inventory\"]` for specific modules\n- Or `installAllModules: true` for everything\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallTemplateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallationResultDto"}}}}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/install-module":{"post":{"operationId":"TemplatesController_installModule","summary":"Install additional module","description":"Add a module to a company that already has a template installed.\n\n**Use this when:**\n- Company wants to add optional features (e.g., \"Advanced Reporting\")\n- Upselling additional CRM capabilities\n- Enabling a module that was skipped during initial install\n\n**Requirements:**\n- Company must already have the parent template installed\n- Module must not already be installed\n- Core module dependencies are installed automatically\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallModuleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallationResultDto"}}}}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/uninstall-module":{"post":{"operationId":"TemplatesController_uninstallModule","summary":"Uninstall a module","description":"Remove a module and its entities from a company's CRM.\n\n**What happens:**\n1. Checks if module has any data (records in its objects)\n2. If data exists and `force: false`, returns error with counts\n3. If `force: true`, deletes all data and entities\n4. Removes object types, fields, associations created by the module\n\n**Use this when:**\n- Company no longer needs a feature\n- Downgrading subscription tier\n- Cleaning up unused modules\n\n**Warning:** With `force: true`, all data in the module's objects is permanently deleted.\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UninstallModuleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UninstallModuleResponseDto"}}}}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/company/{companyId}":{"get":{"operationId":"TemplatesController_getCompanyTemplateInstallation","summary":"Get company installation status","description":"Check which template and modules a company has installed.\n\n**Use this to:**\n- Display company's current CRM configuration\n- Show available modules for upgrade\n- Verify installation before operations\n\n**Returns:**\n- `template`: The installed template (or null if none)\n- `modules`: Array of installed modules with their status\n","parameters":[{"name":"companyId","required":true,"in":"path","description":"Company UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyTemplateInstallationResponseDto"}}}}},"tags":["templates"],"security":[{"bearer":[]}]}},"/admin/templates/modules":{"get":{"operationId":"TemplateModulesController_getModules","summary":"Template Modules: List template modules","description":"Fetch modules for a template with pagination.\n\n**Use this to:**\n- Display module list in template builder UI\n- Show available modules for company installation\n- Browse modules across all templates\n\n**Filter by:**\n- `templateId`: Get modules for a specific template\n- `isCore`: Filter core vs optional modules\n","parameters":[{"name":"templateId","required":true,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuleListResponseDto"}}}}},"tags":["templates/modules"],"security":[{"bearer":[]}]},"post":{"operationId":"TemplateModulesController_createModule","summary":"Template Modules: Create a module","description":"Add a new module to a template.\n\n**Use this to:**\n- Add a new feature grouping to a template\n- Create core or optional modules\n\n**After creation:**\n1. Add blueprint objects to the module\n2. Add blueprint fields to each object\n3. Add associations between objects\n4. Set `displayOrder` for UI ordering\n\n**Core modules:**\nSet `isCore: true` for modules that should always be installed.\nCore modules cannot be uninstalled by companies.\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTemplateModuleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"}}}}}}},"tags":["templates/modules"],"security":[{"bearer":[]}]}},"/admin/templates/modules/{id}":{"get":{"operationId":"TemplateModulesController_getModule","summary":"Template Modules: Get module by ID","description":"Fetch a single module's details.\n\n**Use this to:**\n- Load module data for editing\n- Display module details in builder UI\n","parameters":[{"name":"id","required":true,"in":"path","description":"Module UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuleResponseDto"}}}},"404":{"description":"Module not found"}},"tags":["templates/modules"],"security":[{"bearer":[]}]},"patch":{"operationId":"TemplateModulesController_updateModule","summary":"Template Modules: Update a module","description":"Modify module metadata.\n\n**Use this to:**\n- Rename a module\n- Update description\n- Toggle core status\n- Change display order\n\n**Note:** Changing `isCore` affects future installations only.\nCompanies that already installed the module are not affected.\n","parameters":[{"name":"id","required":true,"in":"path","description":"Module UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTemplateModuleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Module not found"}},"tags":["templates/modules"],"security":[{"bearer":[]}]},"delete":{"operationId":"TemplateModulesController_deleteModule","summary":"Template Modules: Delete a module","description":"Remove a module and all its blueprints from a template.\n\n**Use this to:**\n- Remove unused modules from a template\n- Clean up draft modules\n\n**Cascade deletes:**\n- All blueprint objects in the module\n- All blueprint fields in those objects\n- All blueprint associations in the module\n\n**Note:** Cannot delete if any company has this module installed.\n","parameters":[{"name":"id","required":true,"in":"path","description":"Module UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Module not found"}},"tags":["templates/modules"],"security":[{"bearer":[]}]}},"/admin/templates/modules/{id}/full":{"get":{"operationId":"TemplateModulesController_getModuleFull","summary":"Template Modules: Get module with full blueprint tree","description":"Fetch a module with all its blueprint objects, fields, and associations.\n\n**Use this to:**\n- Preview complete module structure before installation\n- Export module configuration\n- Clone module to another template\n\n**Returns nested structure:**\n- Module metadata\n- Blueprint objects with their fields\n- Blueprint associations\n","parameters":[{"name":"id","required":true,"in":"path","description":"Module UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrmTemplateModule"}}}},"404":{"description":"Module not found"}},"tags":["templates/modules"],"security":[{"bearer":[]}]}},"/admin/templates/modules/{templateId}/reorder":{"post":{"operationId":"TemplateModulesController_reorderModules","summary":"Template Modules: Reorder modules","description":"Set the display order for modules in a template.\n\n**Use this to:**\n- Arrange modules in logical order for installation UI\n- Move important modules to the top\n- Group related modules together\n\n**How it works:**\nPass an array of module IDs in the desired order.\nModules not in the array keep their current position.\n","parameters":[{"name":"templateId","required":true,"in":"path","description":"Template UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"orderedIds":{"type":"array","items":{"type":"string"},"example":["module-id-1","module-id-2","module-id-3"]}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["templates/modules"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-objects":{"get":{"operationId":"BlueprintObjectsController_getObjects","summary":"Blueprint Objects: List blueprint objects","description":"Fetch blueprint objects for a module.\n\n**Use this to:**\n- Display object list in module builder UI\n- See what objects a module will create when installed\n- Browse all blueprint objects across modules\n\n**Filter by:**\n- `moduleId`: Required - get objects for a specific module\n","parameters":[{"name":"moduleId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BlueprintObjectResponseDto"}}}}}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]},"post":{"operationId":"BlueprintObjectsController_createObject","summary":"Blueprint Objects: Create a blueprint object","description":"Define a new CRM object type for a module.\n\n**Use this to:**\n- Add a new entity type to a module (e.g., \"Invoice\", \"Task\")\n- Define what objects companies get when installing the module\n\n**After creation:**\n1. Add blueprint fields to define the object's properties\n2. Add associations to link it to other objects\n\n**API name rules:**\n- Start with `_` for template-managed (e.g., `_contact`)\n- Lowercase, underscores allowed, no spaces\n- Must be unique within the template\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBlueprintObjectDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"}}}}}}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-objects/{id}/with-fields":{"get":{"operationId":"BlueprintObjectsController_getObjectWithFields","summary":"Blueprint Objects: Get object with fields","description":"Fetch a blueprint object with all its fields included.\n\n**Use this to:**\n- Preview complete object structure\n- Display object details with field list in UI\n- Validate object configuration before installation\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint object UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrmTemplateBlueprintObject"}}}},"404":{"description":"Blueprint object not found"}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-objects/{id}":{"get":{"operationId":"BlueprintObjectsController_getObject","summary":"Blueprint Objects: Get blueprint object by ID","description":"Fetch a single blueprint object's details.\n\n**Use this to:**\n- Load object data for editing\n- Verify object exists before adding fields\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint object UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlueprintObjectResponseDto"}}}},"404":{"description":"Blueprint object not found"}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]},"patch":{"operationId":"BlueprintObjectsController_updateObject","summary":"Blueprint Objects: Update a blueprint object","description":"Modify blueprint object metadata.\n\n**Use this to:**\n- Rename the object (display name)\n- Update description or icon\n- Change protection level\n\n**Cannot change:**\n- `apiName` is immutable after creation\n- `moduleId` cannot be changed (delete and recreate instead)\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint object UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBlueprintObjectDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Blueprint object not found"}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]},"delete":{"operationId":"BlueprintObjectsController_deleteObject","summary":"Blueprint Objects: Delete a blueprint object","description":"Remove a blueprint object from a module.\n\n**Use this to:**\n- Remove unused object definitions\n- Clean up draft configurations\n\n**Cascade deletes:**\n- All blueprint fields in this object\n- Association endpoints referencing this object\n\n**Note:** Cannot delete if any company has installed the parent module.\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint object UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Blueprint object not found"}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-objects/{moduleId}/reorder":{"post":{"operationId":"BlueprintObjectsController_reorderObjects","summary":"Blueprint Objects: Reorder objects in module","description":"Set the display order for objects within a module.\n\n**Use this to:**\n- Arrange objects in logical order\n- Put primary objects (Contact, Company) first\n- Group related objects together\n\n**How it works:**\nPass an array of object IDs in the desired order.\nObjects not in the array keep their current position.\n","parameters":[{"name":"moduleId","required":true,"in":"path","description":"Module UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"orderedIds":{"type":"array","items":{"type":"string"},"example":["object-id-1","object-id-2","object-id-3"]}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["templates/blueprint-objects"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-fields":{"get":{"operationId":"BlueprintFieldsController_getFields","summary":"Blueprint Fields: List blueprint fields","description":"Fetch blueprint fields for an object.\n\n**Use this to:**\n- Display field list in object builder UI\n- See what fields an object will have when installed\n- Validate field configuration\n\n**Filter by:**\n- `objectId`: Required - get fields for a specific object\n","parameters":[{"name":"blueprintObjectId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BlueprintFieldResponseDto"}}}}}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]},"post":{"operationId":"BlueprintFieldsController_createField","summary":"Blueprint Fields: Create a blueprint field","description":"Add a new field definition to a blueprint object.\n\n**Use this to:**\n- Define properties for a CRM object (e.g., \"email\", \"status\")\n- Configure field type, validation, and options\n\n**Field configuration:**\n- `fieldType`: The data type (text, number, select, etc.)\n- `config`: Type-specific settings (options for select, format for date, etc.)\n- `isRequired`: Whether the field must have a value\n- `protection`: Level of protection from user modification\n\n**API name rules:**\n- Start with `_` for template-managed (e.g., `_status`)\n- Lowercase, underscores allowed, no spaces\n- Must be unique within the object\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBlueprintFieldDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"}}}}}}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-fields/bulk":{"post":{"operationId":"BlueprintFieldsController_bulkCreateFields","summary":"Blueprint Fields: Bulk create blueprint fields","description":"Create multiple fields at once for a blueprint object.\n\n**Use this to:**\n- Quickly add multiple fields when building an object\n- Import field definitions from a template\n- Speed up template creation workflow\n\n**All fields must:**\n- Belong to the same object (`objectId`)\n- Have unique `apiName` values within the object\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCreateBlueprintFieldsDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"string"},"example":["field-id-1","field-id-2","field-id-3"]}}}}}}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-fields/{id}":{"get":{"operationId":"BlueprintFieldsController_getField","summary":"Blueprint Fields: Get blueprint field by ID","description":"Fetch a single blueprint field's details.\n\n**Use this to:**\n- Load field data for editing\n- View field configuration (type, options, validation)\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint field UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlueprintFieldResponseDto"}}}},"404":{"description":"Blueprint field not found"}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]},"patch":{"operationId":"BlueprintFieldsController_updateField","summary":"Blueprint Fields: Update a blueprint field","description":"Modify blueprint field configuration.\n\n**Use this to:**\n- Change field label or description\n- Update field type configuration (e.g., add select options)\n- Modify validation rules\n- Change protection level\n\n**Cannot change:**\n- `apiName` is immutable after creation\n- `fieldType` cannot be changed (create new field instead)\n- `objectId` cannot be changed\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint field UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBlueprintFieldDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Blueprint field not found"}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]},"delete":{"operationId":"BlueprintFieldsController_deleteField","summary":"Blueprint Fields: Delete a blueprint field","description":"Remove a blueprint field from an object.\n\n**Use this to:**\n- Remove unused field definitions\n- Clean up draft configurations\n\n**Note:** Cannot delete if any company has installed the parent module.\nInstalled fields would need to be migrated before deletion.\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint field UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Blueprint field not found"}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-fields/{objectId}/reorder":{"post":{"operationId":"BlueprintFieldsController_reorderFields","summary":"Blueprint Fields: Reorder fields in object","description":"Set the display order for fields within an object.\n\n**Use this to:**\n- Arrange fields in logical form order\n- Put important fields (name, email) first\n- Group related fields together\n\n**How it works:**\nPass an array of field IDs in the desired order.\nFields not in the array keep their current position.\n\n**UI impact:**\nThis order is used when displaying forms and detail views.\n","parameters":[{"name":"objectId","required":true,"in":"path","description":"Blueprint object UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"orderedIds":{"type":"array","items":{"type":"string"},"example":["field-id-1","field-id-2","field-id-3"]}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"tags":["templates/blueprint-fields"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-associations":{"get":{"operationId":"BlueprintAssociationsController_getAssociations","summary":"Blueprint Associations: List blueprint associations","description":"Fetch blueprint associations for a module.\n\n**Use this to:**\n- Display association list in module builder UI\n- See what relationships will be created when installed\n- Visualize object relationships in a diagram\n\n**Filter by:**\n- `moduleId`: Required - get associations for a specific module\n","parameters":[{"name":"moduleId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BlueprintAssociationResponseDto"}}}}}},"tags":["templates/blueprint-associations"],"security":[{"bearer":[]}]},"post":{"operationId":"BlueprintAssociationsController_createAssociation","summary":"Blueprint Associations: Create a blueprint association","description":"Define a relationship between two blueprint objects.\n\n**Use this to:**\n- Link related objects (e.g., Contact â†’ Jobs)\n- Enable related records in the CRM UI\n- Set up data relationships for reporting\n\n**Configuration:**\n- `sourceObjectId`: The object that \"has\" the relationship\n- `targetObjectId`: The object being linked to\n- `associationType`: The cardinality (one-to-many, etc.)\n- `label`: Display name in UI (e.g., \"Jobs\" on Contact)\n- `reverseLabel`: Display name from the other side (e.g., \"Contact\" on Job)\n\n**Cross-module associations:**\nYou can create associations between objects in different modules.\nWhen installed, both modules must be present for the association to work.\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBlueprintAssociationDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"}}}}}}},"tags":["templates/blueprint-associations"],"security":[{"bearer":[]}]}},"/admin/templates/blueprint-associations/{id}":{"get":{"operationId":"BlueprintAssociationsController_getAssociation","summary":"Blueprint Associations: Get blueprint association by ID","description":"Fetch a single blueprint association's details.\n\n**Use this to:**\n- Load association data for editing\n- View association configuration\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint association UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlueprintAssociationResponseDto"}}}},"404":{"description":"Blueprint association not found"}},"tags":["templates/blueprint-associations"],"security":[{"bearer":[]}]},"patch":{"operationId":"BlueprintAssociationsController_updateAssociation","summary":"Blueprint Associations: Update a blueprint association","description":"Modify blueprint association configuration.\n\n**Use this to:**\n- Change association labels\n- Update display settings\n- Modify cascade behavior\n\n**Cannot change:**\n- `sourceObjectId` and `targetObjectId` are immutable\n- `associationType` cannot be changed (create new instead)\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint association UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBlueprintAssociationDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Blueprint association not found"}},"tags":["templates/blueprint-associations"],"security":[{"bearer":[]}]},"delete":{"operationId":"BlueprintAssociationsController_deleteAssociation","summary":"Blueprint Associations: Delete a blueprint association","description":"Remove a blueprint association from a module.\n\n**Use this to:**\n- Remove unused relationship definitions\n- Clean up draft configurations\n- Simplify module structure\n\n**Note:** Cannot delete if any company has installed the parent module.\nExisting association data would need to be handled before deletion.\n","parameters":[{"name":"id","required":true,"in":"path","description":"Blueprint association UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}},"404":{"description":"Blueprint association not found"}},"tags":["templates/blueprint-associations"],"security":[{"bearer":[]}]}}},"info":{"title":"Admin API","description":"Admin Application API","version":"1.0","contact":{}},"tags":[{"name":"auth","description":""},{"name":"admin","description":""},{"name":"common","description":""},{"name":"companies","description":""},{"name":"properties","description":""},{"name":"scraper","description":""},{"name":"scraper/workers","description":""},{"name":"templates","description":""},{"name":"templates/modules","description":""},{"name":"templates/blueprint-objects","description":""},{"name":"templates/blueprint-fields","description":""},{"name":"templates/blueprint-associations","description":""}],"servers":[],"components":{"schemas":{"AdminRole":{"type":"string","enum":["HEAD","FILTERING","SCRAPPING","SALES","SUPPORT"]},"AdminStatus":{"type":"string","enum":["ACTIVE","SUSPENDED","UNVERIFIED","DELETED"]},"PhoneNumberTypeDto":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"flag":{"type":"string"},"prefix":{"type":"string"}},"required":["name","code","flag","prefix"]},"GetAdminsTypeDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"role":{"$ref":"#/components/schemas/AdminRole"},"status":{"$ref":"#/components/schemas/AdminStatus"},"phoneNumber":{"type":"string"},"phonePrefix":{"$ref":"#/components/schemas/PhoneNumberTypeDto"}},"required":["id","name","email","role","status","phoneNumber","phonePrefix"]},"GetAdminsResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/GetAdminsTypeDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"CreateAdminDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phoneCountryCode":{"type":"string"},"phoneNumber":{"type":"string"},"role":{"$ref":"#/components/schemas/AdminRole"}},"required":["name","email","phoneCountryCode","phoneNumber","role"]},"MessageResponseDto":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"AdminResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"phonePrefix":{"$ref":"#/components/schemas/PhoneNumberTypeDto"},"role":{"$ref":"#/components/schemas/AdminRole"},"status":{"$ref":"#/components/schemas/AdminStatus"}},"required":["id","name","email","phoneNumber","phonePrefix","role","status"]},"UpdateAdminDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phoneCountryCode":{"type":"string"},"phoneNumber":{"type":"string"},"role":{"$ref":"#/components/schemas/AdminRole"}}},"SignInDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"PasswordResetDto":{"type":"object","properties":{"oldPassword":{"type":"string"},"newPassword":{"type":"string","description":"Must contain 8 char, one number, one upercase, one lowercase, one special"},"newPasswordRepeat":{"type":"string"}},"required":["newPassword","newPasswordRepeat"]},"WhoAmIDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"emailVerified":{"type":"boolean"},"phoneNumber":{"type":"string"},"phoneNumberPrefix":{"$ref":"#/components/schemas/PhoneNumberTypeDto"},"role":{"$ref":"#/components/schemas/AdminRole"},"status":{"$ref":"#/components/schemas/AdminStatus"},"refreshToken":{"type":"string"},"initialPassword":{"type":"boolean"}},"required":["id","name","email","emailVerified","phoneNumber","phoneNumberPrefix","role","status","refreshToken","initialPassword"]},"SingleCompanyResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"address1":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zipCode":{"type":"string"},"website":{"type":"string"},"phoneNumber":{"type":"string"},"phoneNumberPrefix":{"$ref":"#/components/schemas/PhoneNumberTypeDto"},"email":{"type":"string"},"logoUrl":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","NOT_VERIFIED","SUSPENDED","DELETED"]}},"required":["id","name","website","phoneNumber","phoneNumberPrefix","status"]},"GetCompaniesResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/SingleCompanyResponseDto"}},"totalRecords":{"type":"number"},"totalPages":{"type":"number"},"currentPage":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","totalPages","currentPage","limit","offset"]},"StatesAbbreviation":{"type":"string","enum":["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"]},"UpdateCompanyDto":{"type":"object","properties":{"name":{"type":"string"},"phoneCountryCode":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"},"website":{"type":"string"},"logoUrl":{"type":"string"},"address1":{"type":"string"},"address2":{"type":"string"},"city":{"type":"string"},"state":{"$ref":"#/components/schemas/StatesAbbreviation"},"zipCode":{"type":"string"}}},"UserStatus":{"type":"string","enum":["DELETED","SCHEDULED_DELETE","SUSPENDED","ACTIVE","NO_PASSWORD","NEW_REGISTER"]},"UserRole":{"type":"string","enum":["HEAD","SALES"]},"CompaniesUsersTypeDto":{"type":"object","properties":{"id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"phoneNumberPrefix":{"$ref":"#/components/schemas/PhoneNumberTypeDto"},"emailVerified":{"type":"boolean"},"role":{"$ref":"#/components/schemas/UserRole"},"status":{"$ref":"#/components/schemas/UserStatus"}},"required":["id","firstName","lastName","email","phoneNumber","phoneNumberPrefix","emailVerified","role","status"]},"GetCompaniesUsersResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/CompaniesUsersTypeDto"}},"totalRecords":{"type":"number"},"totalPages":{"type":"number"},"currentPage":{"type":"number"},"offset":{"type":"number"},"limit":{"type":"number"}},"required":["result","totalRecords","totalPages","currentPage","offset","limit"]},"GetCompaniesUserResponseDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"id":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"},"phoneNumberPrefix":{"$ref":"#/components/schemas/PhoneNumberTypeDto"},"emailVerified":{"type":"boolean"},"role":{"$ref":"#/components/schemas/UserRole"},"status":{"$ref":"#/components/schemas/UserStatus"}},"required":["firstName","lastName","id","email","phoneNumber","phoneNumberPrefix","emailVerified","role","status"]},"UpdateUserDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"phoneCountryCode":{"type":"string"},"phoneNumber":{"type":"string"},"role":{"$ref":"#/components/schemas/UserRole"}}},"StatesResponseDto":{"type":"object","properties":{"states":{"type":"array","items":{"$ref":"#/components/schemas/StatesAbbreviation"}}},"required":["states"]},"PhoneNumbersResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/PhoneNumberTypeDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"DynamoHealthResponse":{"type":"object","properties":{}},"PropertyStatus":{"type":"string","enum":["COMING_SOON","FOR_SALE","FOR_SALE_AGAIN","OFF_MARKET","PENDING","SOLD"]},"ListingStatsDto":{"type":"object","properties":{"from":{"type":"string","description":"Start date (inclusive) for createdAt filter","example":"2025-01-01T00:00:00Z"},"to":{"type":"string","description":"End date (inclusive) for createdAt filter","example":"2025-01-31T23:59:59Z"},"states":{"description":"Filter by property states (US codes)","type":"array","items":{"type":"string"}},"statuses":{"type":"array","items":{"$ref":"#/components/schemas/PropertyStatus"}}}},"ListingStatsResponseDto":{"type":"object","properties":{"totalListings":{"type":"number","description":"Total listings matching filters"},"countsByStatus":{"type":"object","description":"Counts by status"},"countsByState":{"type":"object","description":"Counts by state"}},"required":["totalListings","countsByStatus","countsByState"]},"ListingStateBreakdownDto":{"type":"object","properties":{"from":{"type":"string","description":"Start date (inclusive) for createdAt filter","example":"2025-01-01T00:00:00Z"},"to":{"type":"string","description":"End date (inclusive) for createdAt filter","example":"2025-01-31T23:59:59Z"},"states":{"description":"Filter by property states (US codes)","type":"array","items":{"type":"string"}},"statuses":{"type":"array","items":{"$ref":"#/components/schemas/PropertyStatus"}},"limit":{"type":"number","description":"Limit","default":20,"minimum":1,"maximum":500},"offset":{"type":"number","description":"Offset","default":0,"minimum":0}}},"ListingStateBreakdownItemDto":{"type":"object","properties":{"state":{"type":"string"},"forSale":{"type":"number"},"pending":{"type":"number"},"comingSoon":{"type":"number"}},"required":["state","forSale","pending","comingSoon"]},"ListingStateBreakdownResponseDto":{"type":"object","properties":{"records":{"type":"array","items":{"$ref":"#/components/schemas/ListingStateBreakdownItemDto"}},"totalRecords":{"type":"number"},"totalPages":{"type":"number"},"currentPage":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["records","totalRecords","totalPages","currentPage","limit","offset"]},"FilteredStatus":{"type":"string","description":"Filter by AI filtering outcome","enum":["furnished","empty","undefined"]},"HomeType":{"type":"string","description":"Filter by home types","enum":["APARTMENT","CONDO","LOT","MANUFACTURED","MULTI_FAMILY","SINGLE_FAMILY","TOWNHOUSE"]},"PropertyListingsSearchDto":{"type":"object","properties":{"statuses":{"type":"array","items":{"$ref":"#/components/schemas/PropertyStatus"}},"createdFrom":{"type":"string","description":"Listing createdAt from (inclusive)"},"createdTo":{"type":"string","description":"Listing createdAt to (inclusive)"},"states":{"type":"array","items":{"$ref":"#/components/schemas/StatesAbbreviation"}},"filteredStatuses":{"type":"array","items":{"$ref":"#/components/schemas/FilteredStatus"}},"bedroomsMin":{"type":"number","description":"Bedrooms min"},"bedroomsMax":{"type":"number","description":"Bedrooms max"},"bathroomsMin":{"type":"number","description":"Bathrooms min"},"bathroomsMax":{"type":"number","description":"Bathrooms max"},"priceMin":{"type":"number","description":"Price min"},"priceMax":{"type":"number","description":"Price max"},"livingAreaMin":{"type":"number","description":"Living area (sqft) min"},"livingAreaMax":{"type":"number","description":"Living area (sqft) max"},"homeTypes":{"type":"array","items":{"$ref":"#/components/schemas/HomeType"}},"has3DModel":{"type":"boolean","description":"Require 3D model"},"photoCountMin":{"type":"number","description":"Photo count min"},"photoCountMax":{"type":"number","description":"Photo count max"},"zpid":{"type":"string","description":"Filter by a specific zpid"},"limit":{"type":"number","description":"Limit","default":50,"maximum":500},"offset":{"type":"number","description":"Offset","default":0}}},"PropertyListingItemDto":{"type":"object","properties":{"listingId":{"type":"string"},"propertyId":{"type":"string"},"zpid":{"type":"string"},"url":{"type":"string"},"status":{"$ref":"#/components/schemas/PropertyStatus"},"statusDate":{"format":"date-time","type":"string"},"filteredStatus":{"$ref":"#/components/schemas/FilteredStatus"},"state":{"type":"string"},"city":{"type":"string"},"zipcode":{"type":"string"},"streetAddress":{"type":"string"},"bedrooms":{"type":"number"},"bathrooms":{"type":"number"},"price":{"type":"number"},"livingAreaSqft":{"type":"number"},"has3DModel":{"type":"boolean"},"longitude":{"type":"string"},"latitude":{"type":"string"},"homeType":{"$ref":"#/components/schemas/HomeType"},"photoCount":{"type":"number"},"realtorName":{"type":"string"},"realtorPhone":{"type":"string"},"brokerName":{"type":"string"},"mosaicS3Key":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}}},"PropertyListingsSearchResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/PropertyListingItemDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"PropertyListingsExportDto":{"type":"object","properties":{"statuses":{"type":"array","items":{"$ref":"#/components/schemas/PropertyStatus"}},"createdFrom":{"type":"string","description":"Listing createdAt from (inclusive)"},"createdTo":{"type":"string","description":"Listing createdAt to (inclusive)"},"states":{"type":"array","items":{"$ref":"#/components/schemas/StatesAbbreviation"}},"filteredStatuses":{"type":"array","items":{"$ref":"#/components/schemas/FilteredStatus"}},"bedroomsMin":{"type":"number","description":"Bedrooms min"},"bedroomsMax":{"type":"number","description":"Bedrooms max"},"bathroomsMin":{"type":"number","description":"Bathrooms min"},"bathroomsMax":{"type":"number","description":"Bathrooms max"},"priceMin":{"type":"number","description":"Price min"},"priceMax":{"type":"number","description":"Price max"},"livingAreaMin":{"type":"number","description":"Living area (sqft) min"},"livingAreaMax":{"type":"number","description":"Living area (sqft) max"},"homeTypes":{"type":"array","items":{"$ref":"#/components/schemas/HomeType"}},"has3DModel":{"type":"boolean","description":"Require 3D model"},"photoCountMin":{"type":"number","description":"Photo count min"},"photoCountMax":{"type":"number","description":"Photo count max"},"zpid":{"type":"string","description":"Filter by a specific zpid"}}},"ScrapeRunsHealthDto":{"type":"object","properties":{"region":{"type":"string"},"table":{"type":"string"},"tableReachable":{"type":"boolean"},"error":{"type":"string"}},"required":["table","tableReachable"]},"ScrapeRunsTotalsResponseDto":{"type":"object","properties":{"completedScrapingJobs":{"type":"number","description":"Number of scraping jobs completed successfully.\n\nEach job scrapes one segment of a state (e.g., CA#1, CA#2).\nA typical full run has ~500-1000 jobs across all states.","example":450,"minimum":0},"remainingScrapingJobs":{"type":"number","description":"Number of scraping jobs still pending or in progress.\n\n**Progress calculation:**\n```typescript\nconst progress = completedScrapingJobs / (completedScrapingJobs + remainingScrapingJobs);\n```","example":50,"minimum":0},"importCompleted":{"type":"number","description":"Number of properties imported from DynamoDB to PostgreSQL.\n\nImport converts raw scraped data into structured property records.","example":125000,"minimum":0},"importRemaining":{"type":"number","description":"Number of properties waiting to be imported.\n\nHigh numbers here indicate the IMPORT worker needs to run.","example":25000,"minimum":0},"enrichedCompleted":{"type":"number","description":"Number of properties with enrichment data added.\n\nEnrichment adds: demographics, market trends, neighborhood scores, etc.","example":100000,"minimum":0},"enrichedRemaining":{"type":"number","description":"Number of properties waiting for enrichment.\n\nHigh numbers here indicate the ENRICH worker needs to run.","example":50000,"minimum":0},"mosaicCompleted":{"type":"number","description":"Number of properties with image analysis completed.\n\nMosaic uses AI to analyze property photos for condition, features, etc.","example":80000,"minimum":0},"mosaicRemaining":{"type":"number","description":"Number of properties waiting for image analysis.\n\nHigh numbers here indicate the MOSAIC worker needs to run.","example":70000,"minimum":0},"filteredCompleted":{"type":"number","description":"Number of properties that passed through the filter.\n\nFiltering applies AI/rules to qualify leads based on criteria.","example":60000,"minimum":0},"filteredRemaining":{"type":"number","description":"Number of properties waiting to be filtered.\n\nHigh numbers here indicate the FILTER worker needs to run.","example":90000,"minimum":0}},"required":["completedScrapingJobs","remainingScrapingJobs","importCompleted","importRemaining","enrichedCompleted","enrichedRemaining","mosaicCompleted","mosaicRemaining","filteredCompleted","filteredRemaining"]},"ScrapeRunStepState":{"type":"string","description":"Filter stage status","enum":["NOT_SCHEDULED","NOT_STARTED","RUNNING","COMPLETED"]},"ScrapeRunStateSummaryDto":{"type":"object","properties":{"state":{"example":"CA","$ref":"#/components/schemas/StatesAbbreviation"},"scrapeCompleted":{"type":"number","description":"Number of scraping jobs completed for this state","example":45,"minimum":0},"scrapeRemaining":{"type":"number","description":"Number of scraping jobs remaining for this state","example":5,"minimum":0},"scrapeStatus":{"example":"RUNNING","$ref":"#/components/schemas/ScrapeRunStepState"},"importCompleted":{"type":"number","description":"Number of properties imported from DynamoDB to PostgreSQL","example":12500,"minimum":0},"importRemaining":{"type":"number","description":"Number of properties waiting to be imported","example":2500,"minimum":0},"importStatus":{"example":"RUNNING","$ref":"#/components/schemas/ScrapeRunStepState"},"enrichedRemaining":{"type":"number","description":"Number of properties waiting for enrichment","example":5000,"minimum":0},"enrichedCompleted":{"type":"number","description":"Number of properties with enrichment completed","example":10000,"minimum":0},"enrichStatus":{"example":"RUNNING","$ref":"#/components/schemas/ScrapeRunStepState"},"mosaicRemaining":{"type":"number","description":"Number of properties waiting for image analysis","example":7000,"minimum":0},"mosaicCompleted":{"type":"number","description":"Number of properties with image analysis completed","example":8000,"minimum":0},"mosaicStatus":{"example":"RUNNING","$ref":"#/components/schemas/ScrapeRunStepState"},"filteredCompleted":{"type":"number","description":"Number of properties that passed through filtering","example":6000,"minimum":0},"filteredRemaining":{"type":"number","description":"Number of properties waiting to be filtered","example":9000,"minimum":0},"filterStatus":{"example":"RUNNING","$ref":"#/components/schemas/ScrapeRunStepState"}},"required":["state","scrapeCompleted","scrapeRemaining","scrapeStatus","importCompleted","importRemaining","importStatus","enrichedRemaining","enrichedCompleted","enrichStatus","mosaicRemaining","mosaicCompleted","mosaicStatus","filteredCompleted","filteredRemaining","filterStatus"]},"ScrapeRunsResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/ScrapeRunStateSummaryDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"ScrapeRunsRefreshDto":{"type":"object","properties":{"runDate":{"type":"string","description":"Run date (YYYY-MM-DD). Defaults to today when omitted."}}},"ScrapeJobStatus":{"type":"string","enum":["PENDING","RUNNING","SUCCESS","FAILED","RETRYING"]},"ScrapeJobItemDto":{"type":"object","properties":{"jobId":{"type":"string"},"createdAt":{"type":"string"},"state":{"$ref":"#/components/schemas/StatesAbbreviation"},"segmentIndex":{"type":"number"},"segmentCount":{"type":"number"},"status":{"$ref":"#/components/schemas/ScrapeJobStatus"},"stateSegmentRunKey":{"type":"string"},"failedCount":{"type":"number"},"resultCount":{"type":"number"},"newCount":{"type":"number"},"changedCount":{"type":"number"},"unchangedCount":{"type":"number"},"zillowLink":{"type":"string"}},"required":["jobId","createdAt","state","segmentIndex","segmentCount","status","stateSegmentRunKey","failedCount","resultCount","newCount","changedCount","unchangedCount","zillowLink"]},"ScrapeJobsListResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/ScrapeJobItemDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"ScrapeScheduleStateConfigDto":{"type":"object","properties":{"states":{"type":"array","example":["CA","TX","FL"],"items":{"$ref":"#/components/schemas/StatesAbbreviation"}},"runDate":{"type":"string","description":"Target run date for the scheduled jobs.\n\n**Format:** `YYYY-MM-DD`\n\n**Default:** Today's date if omitted\n\n**Use Cases:**\n- Schedule for today: omit this field\n- Schedule for future: set to future date\n- Backfill: set to past date (use with caution)","example":"2024-01-15"}}},"ScrapeRunType":{"type":"string","enum":["pending","newListings"]},"ScrapeScheduleStateConfigStateCountDto":{"type":"object","properties":{"state":{"$ref":"#/components/schemas/StatesAbbreviation"},"jobs":{"type":"number"}},"required":["state","jobs"]},"ScrapeScheduleStateConfigResponseDto":{"type":"object","properties":{"runDate":{"type":"string"},"runType":{"$ref":"#/components/schemas/ScrapeRunType"},"jobsByState":{"type":"array","items":{"$ref":"#/components/schemas/ScrapeScheduleStateConfigStateCountDto"}},"totalJobs":{"type":"number"}},"required":["runDate","runType","jobsByState","totalJobs"]},"ZillowCookieItemDto":{"type":"object","properties":{"cookieId":{"type":"string"},"value":{"type":"string"},"isActive":{"type":"boolean"},"successCount":{"type":"number"},"failCount":{"type":"number"},"lastUsedAt":{"type":"string"}},"required":["cookieId","value","isActive","successCount","failCount"]},"ZillowCookiesListResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/ZillowCookieItemDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"ZillowCookiesBulkSetActiveDto":{"type":"object","properties":{"cookieIds":{"type":"array","items":{"type":"string"}},"isActive":{"type":"boolean"}},"required":["cookieIds","isActive"]},"ZillowCookiesBulkActionResponseDto":{"type":"object","properties":{"processedIds":{"type":"array","items":{"type":"string"}},"skippedIds":{"type":"array","items":{"type":"string"}}},"required":["processedIds","skippedIds"]},"ZillowCookiesCreateDto":{"type":"object","properties":{"values":{"type":"array","items":{"type":"string"}},"isActive":{"type":"boolean"}},"required":["values"]},"ZillowCookiesCreateResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/ZillowCookieItemDto"}},"totalCreated":{"type":"number"}},"required":["result","totalCreated"]},"TemplateResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique UUID identifier for the template.","example":"123e4567-e89b-12d3-a456-426614174000","format":"uuid"},"name":{"type":"string","description":"Display name shown in the UI when selecting or viewing templates.","example":"Movers CRM"},"slug":{"type":"string","description":"Unique slug identifier used in URLs and API calls.\n\n**Characteristics:**\n- Lowercase letters, numbers, underscores, and hyphens only\n- Cannot be changed after creation\n- Used as the `templateSlug` parameter in installation endpoints","example":"movers_crm"},"description":{"type":"string","description":"Detailed description explaining what this template provides and who it's for.","nullable":true,"example":"Complete CRM solution for moving companies. Includes lead tracking, job management, crew scheduling, and customer relationship tools."},"icon":{"type":"string","description":"Icon identifier (e.g., icon library name) or emoji for visual representation.","nullable":true,"example":"truck"},"isActive":{"type":"boolean","description":"Whether the template is available for companies to install.\n\n- `true`: Active and visible in template selection\n- `false`: Hidden (draft or deprecated)","example":true},"displayOrder":{"type":"number","description":"Sort order when displaying templates. Lower numbers appear first.","example":0,"minimum":0},"modulesCount":{"type":"number","description":"Number of modules contained in this template.\n\nModules are logical groupings of objects, fields, and associations (e.g., \"Inventory\", \"Scheduling\", \"Reporting\").","example":5,"minimum":0},"companiesCount":{"type":"number","description":"Number of companies currently using this template.\n\n**Note:** This count includes all companies that have installed any modules from this template.","example":12,"minimum":0},"createdAt":{"format":"date-time","type":"string","description":"ISO 8601 timestamp when the template was created.","example":"2024-01-15T10:30:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"ISO 8601 timestamp when the template was last updated.","example":"2024-03-22T14:45:00.000Z"}},"required":["id","name","slug","description","icon","isActive","displayOrder","modulesCount","companiesCount","createdAt","updatedAt"]},"TemplateListResponseDto":{"type":"object","properties":{"result":{"description":"Array of template objects for the current page.\n\nMay be empty if no templates match the query filters or if offset exceeds total records.","type":"array","items":{"$ref":"#/components/schemas/TemplateResponseDto"}},"totalRecords":{"type":"number","description":"Total number of templates matching the query (ignoring pagination).","example":25,"minimum":0},"currentPage":{"type":"number","description":"Current page number (1-based).\n\n**Formula:** `Math.floor(offset / limit) + 1`","example":1,"minimum":1},"totalPages":{"type":"number","description":"Total number of pages available.\n\n**Formula:** `Math.ceil(totalRecords / limit)`\n\nUse this to disable \"Next\" when `currentPage >= totalPages`.","example":3,"minimum":1},"limit":{"type":"number","description":"Number of items per page (same as the `limit` query parameter sent).","example":10,"minimum":1},"offset":{"type":"number","description":"Number of items skipped (same as the `offset` query parameter sent).","example":0,"minimum":0}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"CreateTemplateDto":{"type":"object","properties":{"name":{"type":"string","description":"Display name of the template shown in UI","example":"Movers CRM","minLength":1,"maxLength":255},"slug":{"type":"string","description":"Unique identifier for the template. Used in URLs and API calls.\n\n**Rules:**\n- Lowercase letters, numbers, underscores, and hyphens only\n- Cannot be changed after creation\n- Must be unique across all templates\n\n**Examples:** `movers_crm`, `realtors-pro`, `logistics_2024`","example":"movers_crm","pattern":"^[a-z0-9_-]+$","minLength":1,"maxLength":100},"description":{"type":"string","description":"Detailed description of what this template provides. Shown to admins when selecting templates.","example":"Complete CRM solution for moving companies. Includes lead tracking, job management, crew scheduling, and customer relationship tools.","nullable":true},"icon":{"type":"string","description":"Icon identifier or emoji for visual representation in UI","example":"truck","maxLength":255,"nullable":true},"isActive":{"type":"boolean","description":"Whether this template is available for companies to install.\n\n- `true`: Template appears in template selection and can be installed\n- `false`: Template is hidden (draft mode) and cannot be installed","example":true,"default":true},"displayOrder":{"type":"number","description":"Sort order when displaying templates. Lower numbers appear first.","example":0,"minimum":0,"default":0}},"required":["name","slug"]},"UpdateTemplateDto":{"type":"object","properties":{"name":{"type":"string","description":"New display name for the template. Leave empty to keep current name.","example":"Movers CRM Pro","minLength":1,"maxLength":255},"description":{"type":"string","description":"Updated description explaining what this template provides.\n\nSupports multi-line text. Use this to help admins understand when to use this template.","example":"Enhanced CRM for moving companies. Now includes inventory tracking, damage reporting, and customer satisfaction surveys.","nullable":true},"icon":{"type":"string","description":"Updated icon identifier or emoji for the template","example":"truck-fast","maxLength":255,"nullable":true},"isActive":{"type":"boolean","description":"Toggle template visibility and availability.\n\n- `true`: Template is active and can be installed by companies\n- `false`: Template is hidden (useful for drafts or deprecated templates)\n\n**Warning:** Deactivating a template does NOT uninstall it from companies that already have it installed.","example":true},"displayOrder":{"type":"number","description":"Change the sort order when displaying templates in selection UI.\n\nLower numbers appear first. Templates with the same displayOrder are sorted by name.","example":1,"minimum":0}}},"InstallTemplateDto":{"type":"object","properties":{"companyId":{"type":"string","description":"UUID of the company to install the template to.\n\nThe company must exist and not already have this template installed.","example":"123e4567-e89b-12d3-a456-426614174000","format":"uuid"},"templateSlug":{"type":"string","description":"Slug identifier of the template to install.\n\nMust match an existing active template's slug (e.g., \"movers_crm\", \"realtors-pro\").","example":"movers_crm"},"modules":{"description":"Array of module slugs to install.\n\n**Behavior:**\n- Only the specified modules will be installed\n- Order doesn't matter - modules are installed based on their dependencies\n- Invalid module slugs will be reported in the response errors array\n- If both `modules` and `installAllModules` are provided, `installAllModules` takes precedence\n\n**Note:** Core modules required by other modules will be installed automatically.","example":["core","inventory","scheduling"],"type":"array","items":{"type":"string"}},"installAllModules":{"type":"boolean","description":"Set to `true` to install ALL modules in the template.\n\n**Use this when:**\n- Setting up a new company with full functionality\n- You want all features the template provides\n\n**Effect:** Overrides the `modules` array if both are provided.","example":true,"default":false}},"required":["companyId","templateSlug"]},"InstallationResultDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Overall installation success status.\n\n- `true`: Installation completed (may have partial errors)\n- `false`: Installation failed completely\n\n**Note:** Can be `true` even with errors if some modules installed successfully.","example":true},"templateSlug":{"type":"string","description":"Slug of the template that was installed.","example":"movers_crm"},"installedModules":{"description":"Array of module slugs that were successfully installed.\n\n**Example:** `[\"core\", \"inventory\", \"scheduling\"]`\n\nEmpty array if no modules were installed.","example":["core","inventory","scheduling"],"type":"array","items":{"type":"string"}},"createdObjectTypes":{"type":"number","description":"Total number of CRM object types created.\n\nObject types are the \"tables\" in your CRM (e.g., Contact, Lead, Job, Invoice).","example":8,"minimum":0},"createdFields":{"type":"number","description":"Total number of fields created across all object types.\n\nFields define the properties of objects (e.g., email, phone, status dropdown).\n\nIncludes all field types: text, number, email, phone, select, multi-select, etc.","example":45,"minimum":0},"createdAssociations":{"type":"number","description":"Total number of associations (relationships) created between object types.\n\nAssociations define how objects relate to each other (e.g., Contact â†’ Jobs, Lead â†’ Quotes).","example":12,"minimum":0},"errors":{"description":"Array of error messages encountered during installation.\n\n**Common errors:**\n- `\"Module 'xxx' not found in template\"` - Invalid module slug\n- `\"Object type 'xxx' already exists\"` - Naming conflict\n- `\"Failed to create association: source object not found\"` - Dependency issue","example":["Module \"invalid_module\" not found in template"],"type":"array","items":{"type":"string"}}},"required":["success","templateSlug","installedModules","createdObjectTypes","createdFields","createdAssociations"]},"InstallModuleDto":{"type":"object","properties":{"companyId":{"type":"string","description":"UUID of the company to install the module to.\n\n**Requirements:**\n- Company must exist\n- Company must already have the parent template installed\n- Module must not already be installed for this company","example":"123e4567-e89b-12d3-a456-426614174000","format":"uuid"},"moduleSlug":{"type":"string","description":"Slug identifier of the module to install.\n\nMust be a valid module slug from the company's installed template.\n\n**Common module slugs:**\n- `core` - Base functionality (usually auto-installed)\n- `inventory` - Inventory tracking\n- `scheduling` - Appointment/job scheduling\n- `reporting` - Reports and analytics\n- `advanced_reporting` - Advanced analytics add-on","example":"advanced_reporting"}},"required":["companyId","moduleSlug"]},"UninstallModuleDto":{"type":"object","properties":{"companyId":{"type":"string","description":"UUID of the company to uninstall the module from.\n\nThe company must have this module currently installed.","example":"123e4567-e89b-12d3-a456-426614174000","format":"uuid"},"moduleSlug":{"type":"string","description":"Slug identifier of the module to uninstall.\n\n**Restrictions:**\n- Cannot uninstall `core` modules if other modules depend on them\n- Cannot uninstall modules with protection level `full`","example":"advanced_reporting"},"force":{"type":"boolean","description":"Force uninstall even when the module has associated data.\n\n**Default behavior (force=false):**\n- If records exist in objects created by this module, uninstall fails\n- Returns an error listing affected objects and record counts\n\n**With force=true:**\n- All objects, fields, associations, and their data are permanently deleted\n- This action is **irreversible**\n\n**Use with caution!** Always back up data before force uninstalling.","example":false,"default":false}},"required":["companyId","moduleSlug"]},"UninstallModuleResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Human-readable success message.\n\nCan be displayed directly to users in a toast notification.\n\n**Format:** `\"Module '{moduleSlug}' uninstalled successfully\"`","example":"Module 'advanced_reporting' uninstalled successfully"},"deletedCount":{"type":"number","description":"Total count of deleted records across all affected tables.\n\nThis includes:\n- Object type definitions\n- Field definitions\n- Association type definitions\n- Actual data records (if `force: true` was used)","example":156,"minimum":0}},"required":["message","deletedCount"]},"InstalledTemplateDto":{"type":"object","properties":{"id":{"type":"string","description":"UUID of the template","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Display name of the template","example":"Movers CRM"},"slug":{"type":"string","description":"Unique slug identifier","example":"movers_crm"},"description":{"type":"string","description":"Template description","example":"Complete CRM for moving companies","nullable":true},"icon":{"type":"string","description":"Icon identifier","example":"truck","nullable":true}},"required":["id","name","slug"]},"InstalledModuleDto":{"type":"object","properties":{"id":{"type":"string","description":"UUID of the module","example":"987fcdeb-51a2-3d4e-b678-426614174000"},"name":{"type":"string","description":"Display name of the module","example":"Inventory Management"},"slug":{"type":"string","description":"Unique slug identifier within the template","example":"inventory"},"description":{"type":"string","description":"Module description","example":"Track inventory items, boxes, and equipment","nullable":true},"isCore":{"type":"boolean","description":"Whether this is a required core module","example":false},"displayOrder":{"type":"number","description":"Sort order for display","example":2}},"required":["id","name","slug","isCore","displayOrder"]},"CompanyTemplateInstallationResponseDto":{"type":"object","properties":{"template":{"description":"The template installed for this company, or `null` if no template is installed.","nullable":true,"allOf":[{"$ref":"#/components/schemas/InstalledTemplateDto"}]},"modules":{"description":"Array of modules installed for this company.\n\nEmpty array if no template is installed or no modules have been installed yet.\n\nModules are sorted by `displayOrder` (core modules first, then optional modules).","example":[{"id":"987fcdeb-51a2-3d4e-b678-426614174000","name":"Core","slug":"core","description":"Base CRM functionality","isCore":true,"displayOrder":0},{"id":"abc12345-6789-0def-ghij-426614174000","name":"Inventory Management","slug":"inventory","description":"Track inventory items and equipment","isCore":false,"displayOrder":1}],"type":"array","items":{"$ref":"#/components/schemas/InstalledModuleDto"}}},"required":["modules"]},"ModuleResponseDto":{"type":"object","properties":{"id":{"type":"string"},"templateId":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string","nullable":true},"isCore":{"type":"boolean"},"dependsOn":{"type":"array","items":{"type":"string"}},"conflictsWith":{"type":"array","items":{"type":"string"}},"displayOrder":{"type":"number"},"objectsCount":{"type":"number"},"associationsCount":{"type":"number"},"companiesInstalled":{"type":"number"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","templateId","name","slug","description","isCore","dependsOn","conflictsWith","displayOrder","objectsCount","associationsCount","companiesInstalled","createdAt"]},"ModuleListResponseDto":{"type":"object","properties":{"result":{"type":"array","items":{"$ref":"#/components/schemas/ModuleResponseDto"}},"totalRecords":{"type":"number"},"currentPage":{"type":"number"},"totalPages":{"type":"number"},"limit":{"type":"number"},"offset":{"type":"number"}},"required":["result","totalRecords","currentPage","totalPages","limit","offset"]},"CreateTemplateModuleDto":{"type":"object","properties":{"templateId":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"isCore":{"type":"boolean"},"dependsOn":{"type":"array","items":{"type":"array"}},"conflictsWith":{"type":"array","items":{"type":"array"}},"displayOrder":{"type":"number"}},"required":["templateId","name","slug"]},"TemplateItemProtection":{"type":"string","enum":["full","delete_protected","none"]},"FieldType":{"type":"string","enum":["string","number","boolean","date","datetime","json","phone","email","url","address","textarea","select","multi_select","currency","formula"]},"CrmTemplateBlueprintField":{"type":"object","properties":{"id":{"type":"string"},"blueprintObjectId":{"type":"string"},"blueprintObject":{"$ref":"#/components/schemas/CrmTemplateBlueprintObject"},"name":{"type":"string"},"apiName":{"type":"string"},"fieldType":{"$ref":"#/components/schemas/FieldType"},"description":{"type":"string"},"isRequired":{"type":"boolean"},"shape":{"type":"object"},"configShape":{"type":"object"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","blueprintObjectId","blueprintObject","name","apiName","fieldType","isRequired","protection","displayOrder","createdAt"]},"CrmTemplateBlueprintObject":{"type":"object","properties":{"id":{"type":"string"},"moduleId":{"type":"string"},"module":{"$ref":"#/components/schemas/CrmTemplateModule"},"name":{"type":"string"},"apiName":{"type":"string"},"description":{"type":"string"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"},"fields":{"type":"array","items":{"$ref":"#/components/schemas/CrmTemplateBlueprintField"}},"createdAt":{"format":"date-time","type":"string"}},"required":["id","moduleId","module","name","apiName","protection","displayOrder","createdAt"]},"AssociationCardinality":{"type":"string","enum":["one","many"]},"CrmTemplateBlueprintAssociation":{"type":"object","properties":{"id":{"type":"string"},"moduleId":{"type":"string"},"module":{"$ref":"#/components/schemas/CrmTemplateModule"},"name":{"type":"string"},"apiName":{"type":"string"},"sourceObjectApiName":{"type":"string"},"targetObjectApiName":{"type":"string"},"sourceCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"targetCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"isBidirectional":{"type":"boolean","default":true},"reverseName":{"type":"string"},"description":{"type":"string"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","moduleId","module","name","apiName","sourceObjectApiName","targetObjectApiName","sourceCardinality","targetCardinality","isBidirectional","protection","displayOrder","createdAt"]},"CrmTemplateModule":{"type":"object","properties":{"id":{"type":"string"},"templateId":{"type":"string"},"template":{"$ref":"#/components/schemas/CrmTemplate"},"name":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"isCore":{"type":"boolean"},"dependsOn":{"type":"array","items":{"type":"array"}},"conflictsWith":{"type":"array","items":{"type":"array"}},"displayOrder":{"type":"number"},"blueprintObjects":{"type":"array","items":{"$ref":"#/components/schemas/CrmTemplateBlueprintObject"}},"blueprintAssociations":{"type":"array","items":{"$ref":"#/components/schemas/CrmTemplateBlueprintAssociation"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","templateId","template","name","slug","isCore","displayOrder","createdAt","updatedAt"]},"CrmTemplate":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"icon":{"type":"string"},"isActive":{"type":"boolean"},"displayOrder":{"type":"number"},"modules":{"type":"array","items":{"$ref":"#/components/schemas/CrmTemplateModule"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","slug","isActive","displayOrder","createdAt","updatedAt"]},"UpdateTemplateModuleDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"isCore":{"type":"boolean"},"dependsOn":{"type":"array","items":{"type":"array"}},"conflictsWith":{"type":"array","items":{"type":"array"}},"displayOrder":{"type":"number"}}},"BlueprintObjectResponseDto":{"type":"object","properties":{"id":{"type":"string"},"moduleId":{"type":"string"},"name":{"type":"string"},"apiName":{"type":"string"},"description":{"type":"string","nullable":true},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"},"fieldsCount":{"type":"number"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","moduleId","name","apiName","description","protection","displayOrder","fieldsCount","createdAt"]},"CreateBlueprintObjectDto":{"type":"object","properties":{"moduleId":{"type":"string"},"name":{"type":"string"},"apiName":{"type":"string"},"description":{"type":"string"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"}},"required":["moduleId","name","apiName"]},"UpdateBlueprintObjectDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"}}},"BlueprintFieldResponseDto":{"type":"object","properties":{"id":{"type":"string"},"blueprintObjectId":{"type":"string"},"name":{"type":"string"},"apiName":{"type":"string"},"fieldType":{"$ref":"#/components/schemas/FieldType"},"description":{"type":"string","nullable":true},"isRequired":{"type":"boolean"},"shape":{"type":"object"},"configShape":{"type":"object"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","blueprintObjectId","name","apiName","fieldType","description","isRequired","protection","displayOrder","createdAt"]},"CreateBlueprintFieldDto":{"type":"object","properties":{"blueprintObjectId":{"type":"string"},"name":{"type":"string"},"apiName":{"type":"string"},"fieldType":{"$ref":"#/components/schemas/FieldType"},"description":{"type":"string"},"isRequired":{"type":"boolean"},"shape":{"type":"object"},"configShape":{"type":"object"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"}},"required":["blueprintObjectId","name","apiName","fieldType"]},"BulkCreateBlueprintFieldsDto":{"type":"object","properties":{"blueprintObjectId":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/components/schemas/CreateBlueprintFieldDto"}}},"required":["blueprintObjectId","fields"]},"UpdateBlueprintFieldDto":{"type":"object","properties":{"name":{"type":"string"},"apiName":{"type":"string"},"fieldType":{"$ref":"#/components/schemas/FieldType"},"description":{"type":"string"},"isRequired":{"type":"boolean"},"shape":{"type":"object"},"configShape":{"type":"object"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"}}},"BlueprintAssociationResponseDto":{"type":"object","properties":{"id":{"type":"string"},"moduleId":{"type":"string"},"name":{"type":"string"},"apiName":{"type":"string"},"sourceObjectApiName":{"type":"string"},"targetObjectApiName":{"type":"string"},"sourceCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"targetCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"isBidirectional":{"type":"boolean"},"reverseName":{"type":"string","nullable":true},"description":{"type":"string","nullable":true},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","moduleId","name","apiName","sourceObjectApiName","targetObjectApiName","sourceCardinality","targetCardinality","isBidirectional","reverseName","description","protection","displayOrder","createdAt"]},"CreateBlueprintAssociationDto":{"type":"object","properties":{"moduleId":{"type":"string"},"name":{"type":"string"},"apiName":{"type":"string"},"sourceObjectApiName":{"type":"string"},"targetObjectApiName":{"type":"string"},"sourceCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"targetCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"isBidirectional":{"type":"boolean"},"reverseName":{"type":"string"},"description":{"type":"string"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"}},"required":["moduleId","name","apiName","sourceObjectApiName","targetObjectApiName","sourceCardinality","targetCardinality"]},"UpdateBlueprintAssociationDto":{"type":"object","properties":{"name":{"type":"string"},"apiName":{"type":"string"},"sourceObjectApiName":{"type":"string"},"targetObjectApiName":{"type":"string"},"sourceCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"targetCardinality":{"$ref":"#/components/schemas/AssociationCardinality"},"isBidirectional":{"type":"boolean"},"reverseName":{"type":"string"},"description":{"type":"string"},"protection":{"$ref":"#/components/schemas/TemplateItemProtection"},"displayOrder":{"type":"number"}}}}}}